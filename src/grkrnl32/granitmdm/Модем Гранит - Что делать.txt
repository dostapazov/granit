1)* Установка/снятие флагов диагностики
   При изменении должны отправлять данные модеммеру.
   В случае если изменение групповое - то
   только в случае отказов( формируется один групповой кадр)
    

2)* Удаление добавление объектов  должно сопровождаться пересканированием
    диагностики владельцев. Удаление конкретного объекта должно предваряться
    установкой диагностии OTD_DIAG_NODATA ;

    Изменение адресной чати объекта должно сопровождаться двойной выдачей диагностики
    OTD_DIAG_NODATA для старго и нового адресов


3)* для каждого объекта (классы sc_floor, gr_cp, gr_group) написать функцию
   get_otd_data(DWORD parts, DWORD lo_obj,DWORD hi_obj);
   этаж и КП заполняют персональную диагностику подобъектов.


4) Диагностика: //otd_diag.h
   Любой диагностируемый объект можед быть
   работоспособным                - все работает значение дивгностики 0
   частично неработоспособным     - неработосособна/недостоверна часть объектов
   неработоспособным              - отсутствие связи, нет ответа либо
                                    неработоспособен владелец

   Все данные обрабатываются группой. при получении данных считается,
   что КП, ПУ, группа исправны и поэтому сбрасываются флаги диагностики
   OTD_DIAG_NODATA,
   OTD_DIAG_PUCONNECT, OTD_DIAG_PURESPOND,
   OTD_DIAG_CPCONNECT, OTD_DIAG_CPRESPOND,
   OTD_DIAG_MODRESPOND.

   Неработоспосособность группы определяется таймаутом ответа на вызов и
   устанавливается флаг диагностики OTD_DIAG_MODRESPOND.

   Неработоспособность КП устанавливается либо по таймауту ответов от КП - флаг
   OTD_DIAG_CPRESPOND, либо по принятой посылке от этажа "Обрыв связи с КП №XXX"
   OTD_DIAG_CPCONNECT.

   Неработоспособность  каждый элемент базы устанавливает свой
   ПУ - OTD_DIAG_PUCONNECT, OTD_DIAG_PUNOWORK распостраняя на этажи КП и группы.

   КП - OTD_DIAG_CPCONNECT, OTD_DIAG_CPNOWORK распостраняя на группы



5 )* Квитанции и вызовы должны  отправляться единожды, а не ставиться в очередь

6 )* Обработка запросов от модеммера.

7 )* Таймер работоспообности КП должен вычисляться на основе максимального значения
   таймера ответа групп, и корректироваться при редактировании КП /групп

8 ) * запись в лог  об изменении диагностики
9 ) * запись в лог  об операцияч ТУ/ТР

10)

11) *  Операции ТУ/ТР
     OTD кадр ТУ/ТР оформляется в виде:
     otd_addr                       flags   numbers     otd_tutr    kpk
        |                             |       |            |
     10.65.OTD_FA_DICRETE_CTRL.1      0      1-1       OTD_TUCMD_ON 0
     Управление  65 КП сублок  1             объект №1    Включить

12) Проверка успешности ТУ
     









